
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../07-array_size/">
      
      
        <link rel="next" href="../09-Structures/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>Les pointeurs - Nussbaum le retour</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#les-pointeurs" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../.." title="Nussbaum le retour" class="md-header__button md-logo" aria-label="Nussbaum le retour" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nussbaum le retour
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Les pointeurs
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue"  aria-label="Passer au mode nuit"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Passer au mode nuit" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="blue"  aria-label="Passer au mode jour"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Passer au mode jour" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Onglets" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Accueil

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Algorithmique/1-Glouton/" class="md-tabs__link">
          
  
  Algorithmique

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Analyse%20d%27algorithmes/1-Terminaison%20Correction/" class="md-tabs__link">
          
  
  Analyse d'algorithmes

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Arbres/1-Induction_structurelle/" class="md-tabs__link">
          
  
  Arbres

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Bonnes%20Pratiques/1-Bonne_pratiques/" class="md-tabs__link">
          
  
  Bonnes Pratiques

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../01-MinimC/" class="md-tabs__link">
          
  
  C

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Divers/1-Backtracking/" class="md-tabs__link">
          
  
  Divers

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Graphes/1-Graphes/" class="md-tabs__link">
          
  
  Graphes

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Linux/1-Linux/" class="md-tabs__link">
          
  
  Linux

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Logique/1-Logique/" class="md-tabs__link">
          
  
  Logique

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Nombres/1-Entiers/" class="md-tabs__link">
          
  
  Nombres

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Ocaml/1-Prise%20en%20main%20en%20OCaml/" class="md-tabs__link">
          
  
  Ocaml

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../SQL/1-BDD_intro/" class="md-tabs__link">
          
  
  SQL

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Structures%20Sequentielles/1-Tableaux-ListeChainee/" class="md-tabs__link">
          
  
  Structures Sequentielles

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Tests/1-Tests/" class="md-tabs__link">
          
  
  Tests

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Textes/1-Textes/" class="md-tabs__link">
          
  
  Textes

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Nussbaum le retour" class="md-nav__button md-logo" aria-label="Nussbaum le retour" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Nussbaum le retour
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accueil
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Algorithmique
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Algorithmique
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Algorithmique/1-Glouton/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algorithmes gloutons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Algorithmique/2-Prodgyn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Programmation dynamique
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Analyse d'algorithmes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Analyse d'algorithmes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Analyse%20d%27algorithmes/1-Terminaison%20Correction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terminaison et correction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Analyse%20d%27algorithmes/2-Complexit%C3%A9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Complexité
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Analyse%20d%27algorithmes/3-Complexit%C3%A9%20moyenne%20et%20amortie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Complexité moyenne et amortie
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Arbres
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Arbres
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Arbres/1-Induction_structurelle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Induction structurelle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Arbres/2-Arbres%20binaires/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Les arbres binaires
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Arbres/3-Rec_Ter_Abr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arbres et récursions terminales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Arbres/4-ABR/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arbre Binaire de Recherche et Tas
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bonnes Pratiques
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Bonnes Pratiques
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Bonnes%20Pratiques/1-Bonne_pratiques/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bonnes pratiques
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    C
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            C
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-MinimC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C si facile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-ChaineCompil/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chaîne de compilation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-Bytes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bytes et tailles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-Matrices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tableaux à deux indices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-Bitwise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Opérateurs bitwise
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-Boucles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boucles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-array_size/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Taille d'un tableau en \(\texttt{C}\)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Les pointeurs
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Les pointeurs
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pointeurs" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeurs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pointeurs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acces-a-la-memoire" class="md-nav__link">
    <span class="md-ellipsis">
      Accès à la mémoire
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syntaxe" class="md-nav__link">
    <span class="md-ellipsis">
      Syntaxe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Syntaxe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration" class="md-nav__link">
    <span class="md-ellipsis">
      Déclaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialisation" class="md-nav__link">
    <span class="md-ellipsis">
      Initialisation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affichage-des-adresses" class="md-nav__link">
    <span class="md-ellipsis">
      Affichage des adresses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indirection" class="md-nav__link">
    <span class="md-ellipsis">
      Indirection ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#les-differentes-casquettes-de" class="md-nav__link">
    <span class="md-ellipsis">
      Les différentes casquettes de *
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pointeurs-et-constantes" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeurs et constantes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#piege-a-la-declaration" class="md-nav__link">
    <span class="md-ellipsis">
      Piège à la déclaration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilite" class="md-nav__link">
    <span class="md-ellipsis">
      Utilité
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilité">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utilite_1" class="md-nav__link">
    <span class="md-ellipsis">
      Utilité♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consequence-du-passage-par-valeur" class="md-nav__link">
    <span class="md-ellipsis">
      Conséquence du passage par valeur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pointeurs-dans-dautres-langages" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeurs dans d'autres langages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retourner-plusieurs-valeurs" class="md-nav__link">
    <span class="md-ellipsis">
      « Retourner » plusieurs valeurs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="« Retourner » plusieurs valeurs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#passage-de-pointeurs-en-parametres" class="md-nav__link">
    <span class="md-ellipsis">
      Passage de pointeurs en paramètres
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pointeur-textnull-mot-cle-textvoid" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeur \(\text{NULL}\), mot clé \(\text{void}\)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pointeur \(\text{NULL}\), mot clé \(\text{void}\)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pointeur-nul" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeur nul
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#le-mot-cle-void" class="md-nav__link">
    <span class="md-ellipsis">
      Le mot clé void
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valeur-de-retour" class="md-nav__link">
    <span class="md-ellipsis">
      Valeur de retour
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Valeur de retour">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pointeur-comme-valeur-retournee" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeur comme valeur retournée
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pointeur comme valeur retournée">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mot-cle-static" class="md-nav__link">
    <span class="md-ellipsis">
      Mot clé static
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pointeur-sur-pointeur" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeur sur pointeur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dangers" class="md-nav__link">
    <span class="md-ellipsis">
      Dangers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dangers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#complexification-du-code" class="md-nav__link">
    <span class="md-ellipsis">
      Complexification du code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#un-exemple-de-segmentation-fault" class="md-nav__link">
    <span class="md-ellipsis">
      Un exemple de segmentation fault
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allocation-dynamique" class="md-nav__link">
    <span class="md-ellipsis">
      Allocation dynamique
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Allocation dynamique">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allouer-de-la-memoire" class="md-nav__link">
    <span class="md-ellipsis">
      Allouer de la mémoire ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allouer-de-lespace" class="md-nav__link">
    <span class="md-ellipsis">
      Allouer de l'espace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#la-fonction-malloc" class="md-nav__link">
    <span class="md-ellipsis">
      La fonction malloc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allocation-dynamique-vs-automatique" class="md-nav__link">
    <span class="md-ellipsis">
      Allocation dynamique vs automatique ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertions-rappel" class="md-nav__link">
    <span class="md-ellipsis">
      Assertions (rappel)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertion-et-bon-fonctionnement-dune-allocation" class="md-nav__link">
    <span class="md-ellipsis">
      Assertion et bon fonctionnement d'une allocation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Assertion et bon fonctionnement d'une allocation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exemple-dassertion" class="md-nav__link">
    <span class="md-ellipsis">
      Exemple d'assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hors-programme" class="md-nav__link">
    <span class="md-ellipsis">
      (Hors programme)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(Hors programme)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arithmetique-des-pointeurs" class="md-nav__link">
    <span class="md-ellipsis">
      Arithmétique des pointeurs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pointeur-et-tableaux" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeur et tableaux
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pointeur et tableaux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tableaux" class="md-nav__link">
    <span class="md-ellipsis">
      Tableaux ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acces-aux-elements-dun-tableau" class="md-nav__link">
    <span class="md-ellipsis">
      Accès aux éléments d'un tableau
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passage-dun-tableau-en-parametre-dune-fonction" class="md-nav__link">
    <span class="md-ellipsis">
      Passage d'un tableau en paramètre d'une fonction ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notion-de-lvalue" class="md-nav__link">
    <span class="md-ellipsis">
      Notion de lvalue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#un-tableau-nest-pas-une-lvalue" class="md-nav__link">
    <span class="md-ellipsis">
      Un tableau n'est pas une lvalue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#les-fonctions-dallocation-en-cpge" class="md-nav__link">
    <span class="md-ellipsis">
      Les fonctions d'allocation en CPGE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#la-fonction-de-liberation" class="md-nav__link">
    <span class="md-ellipsis">
      La fonction de libération
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#squelette-dallocation" class="md-nav__link">
    <span class="md-ellipsis">
      Squelette d'allocation ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tableau-vs-pointeur" class="md-nav__link">
    <span class="md-ellipsis">
      Tableau VS pointeur ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tableaux-a-plusieurs-dimensions" class="md-nav__link">
    <span class="md-ellipsis">
      Tableaux à plusieurs dimensions ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allocation-dynamique-de-matrice" class="md-nav__link">
    <span class="md-ellipsis">
      Allocation dynamique de « matrice » ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tableaux-statiques-2d-vs-pointeur-de-pointeur" class="md-nav__link">
    <span class="md-ellipsis">
      Tableaux statiques 2D VS pointeur de pointeur
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tableaux statiques 2D VS pointeur de pointeur">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#passage-en-parametre" class="md-nav__link">
    <span class="md-ellipsis">
      Passage en paramètre
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allocation-dynamique-de-matrice-suite" class="md-nav__link">
    <span class="md-ellipsis">
      Allocation dynamique de matrice (suite)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chaine-de-caracteres" class="md-nav__link">
    <span class="md-ellipsis">
      Chaîne de caractères
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chaîne de caractères">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#les-chaines-de-caracteres-comme-tableaux-de-char" class="md-nav__link">
    <span class="md-ellipsis">
      Les chaînes de caractères comme tableaux de char ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acces-aux-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Accès aux éléments ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affichage-et-saisie-au-clavier" class="md-nav__link">
    <span class="md-ellipsis">
      Affichage et saisie au clavier ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#longueur" class="md-nav__link">
    <span class="md-ellipsis">
      Longueur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparer" class="md-nav__link">
    <span class="md-ellipsis">
      Comparer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convertir-en-entier" class="md-nav__link">
    <span class="md-ellipsis">
      Convertir en entier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifier-une-constante-chaine" class="md-nav__link">
    <span class="md-ellipsis">
      Modifier une constante chaîne
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatenation" class="md-nav__link">
    <span class="md-ellipsis">
      Concaténation ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tableau-de-constantes-chaines" class="md-nav__link">
    <span class="md-ellipsis">
      Tableau de constantes chaînes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-Structures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Définition de types (Structures)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-Conditions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Complément sur les expressions conditionnelles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-CompilSeparee/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compilation séparée
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-EntreeSorties/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture écriture dans des fichiers : langage \(\texttt{C}\)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13-hasard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hasard en \(\texttt{C}\)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Divers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Divers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Divers/1-Backtracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backtracking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Divers/2-Serialisation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sérialisation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Divers/3-Rencontre%20au%20milieu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rencontre au milieu
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Graphes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Graphes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Graphes/1-Graphes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Graphes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Graphes/2-PCC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plus cours chemin
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/1-Linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/2-Fichiers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fichiers, systèmes de fichiers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/3-Droits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accès droits et attributs sous Linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/4-Redirections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redirections
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Logique
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Logique
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Logique/1-Logique/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logique
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Logique/2-Quine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algorithme de Quine
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Nombres
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Nombres
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Nombres/1-Entiers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Représentation des entiers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Nombres/2-Flottants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nombres flottants
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ocaml
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Ocaml
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ocaml/1-Prise%20en%20main%20en%20OCaml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OCaml
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ocaml/2-R%C3%A9cursion%20terminal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Récursion terminale et gestion de la mémoire en OCaml
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ocaml/3-Entr%C3%A9es-Sorties/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entrées-sorties en OCAML
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ocaml/4-Imp%C3%A9ratif%20et%20types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Impératif et types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ocaml/5-Arguments%20en%20ligne%20de%20commande/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arguments en ligne de commande
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SQL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            SQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/1-BDD_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modèle relationnel, bases de données
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/2-UneTable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Requêtes sur une table
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/3-DeuxTables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Requêtes sur plusieurs tables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/4-Agregations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agrégations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SQL/5-Entit%C3%A9-Relation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modèle entité-association
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Structures Sequentielles
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            Structures Sequentielles
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Structures%20Sequentielles/1-Tableaux-ListeChainee/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tableaux redimensionnables et Listes chaînées
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Structures%20Sequentielles/2-PilesFiles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Piles et Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Structures%20Sequentielles/3-Dictionnaires/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dictionnaires
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tests
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            Tests
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tests/1-Tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tests
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Textes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            Textes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Textes/1-Textes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Recherche dans un texte
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Textes/2-Huffman/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algorithme de Huffman
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Textes/3-LZW/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LZW
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pointeurs" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeurs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pointeurs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acces-a-la-memoire" class="md-nav__link">
    <span class="md-ellipsis">
      Accès à la mémoire
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syntaxe" class="md-nav__link">
    <span class="md-ellipsis">
      Syntaxe
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Syntaxe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration" class="md-nav__link">
    <span class="md-ellipsis">
      Déclaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialisation" class="md-nav__link">
    <span class="md-ellipsis">
      Initialisation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affichage-des-adresses" class="md-nav__link">
    <span class="md-ellipsis">
      Affichage des adresses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indirection" class="md-nav__link">
    <span class="md-ellipsis">
      Indirection ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#les-differentes-casquettes-de" class="md-nav__link">
    <span class="md-ellipsis">
      Les différentes casquettes de *
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pointeurs-et-constantes" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeurs et constantes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#piege-a-la-declaration" class="md-nav__link">
    <span class="md-ellipsis">
      Piège à la déclaration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilite" class="md-nav__link">
    <span class="md-ellipsis">
      Utilité
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilité">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utilite_1" class="md-nav__link">
    <span class="md-ellipsis">
      Utilité♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consequence-du-passage-par-valeur" class="md-nav__link">
    <span class="md-ellipsis">
      Conséquence du passage par valeur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pointeurs-dans-dautres-langages" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeurs dans d'autres langages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retourner-plusieurs-valeurs" class="md-nav__link">
    <span class="md-ellipsis">
      « Retourner » plusieurs valeurs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="« Retourner » plusieurs valeurs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#passage-de-pointeurs-en-parametres" class="md-nav__link">
    <span class="md-ellipsis">
      Passage de pointeurs en paramètres
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pointeur-textnull-mot-cle-textvoid" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeur \(\text{NULL}\), mot clé \(\text{void}\)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pointeur \(\text{NULL}\), mot clé \(\text{void}\)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pointeur-nul" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeur nul
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#le-mot-cle-void" class="md-nav__link">
    <span class="md-ellipsis">
      Le mot clé void
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valeur-de-retour" class="md-nav__link">
    <span class="md-ellipsis">
      Valeur de retour
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Valeur de retour">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pointeur-comme-valeur-retournee" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeur comme valeur retournée
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pointeur comme valeur retournée">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mot-cle-static" class="md-nav__link">
    <span class="md-ellipsis">
      Mot clé static
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pointeur-sur-pointeur" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeur sur pointeur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dangers" class="md-nav__link">
    <span class="md-ellipsis">
      Dangers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dangers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#complexification-du-code" class="md-nav__link">
    <span class="md-ellipsis">
      Complexification du code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#un-exemple-de-segmentation-fault" class="md-nav__link">
    <span class="md-ellipsis">
      Un exemple de segmentation fault
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allocation-dynamique" class="md-nav__link">
    <span class="md-ellipsis">
      Allocation dynamique
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Allocation dynamique">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allouer-de-la-memoire" class="md-nav__link">
    <span class="md-ellipsis">
      Allouer de la mémoire ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allouer-de-lespace" class="md-nav__link">
    <span class="md-ellipsis">
      Allouer de l'espace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#la-fonction-malloc" class="md-nav__link">
    <span class="md-ellipsis">
      La fonction malloc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allocation-dynamique-vs-automatique" class="md-nav__link">
    <span class="md-ellipsis">
      Allocation dynamique vs automatique ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertions-rappel" class="md-nav__link">
    <span class="md-ellipsis">
      Assertions (rappel)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assertion-et-bon-fonctionnement-dune-allocation" class="md-nav__link">
    <span class="md-ellipsis">
      Assertion et bon fonctionnement d'une allocation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Assertion et bon fonctionnement d'une allocation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exemple-dassertion" class="md-nav__link">
    <span class="md-ellipsis">
      Exemple d'assertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hors-programme" class="md-nav__link">
    <span class="md-ellipsis">
      (Hors programme)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(Hors programme)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arithmetique-des-pointeurs" class="md-nav__link">
    <span class="md-ellipsis">
      Arithmétique des pointeurs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pointeur-et-tableaux" class="md-nav__link">
    <span class="md-ellipsis">
      Pointeur et tableaux
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pointeur et tableaux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tableaux" class="md-nav__link">
    <span class="md-ellipsis">
      Tableaux ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acces-aux-elements-dun-tableau" class="md-nav__link">
    <span class="md-ellipsis">
      Accès aux éléments d'un tableau
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passage-dun-tableau-en-parametre-dune-fonction" class="md-nav__link">
    <span class="md-ellipsis">
      Passage d'un tableau en paramètre d'une fonction ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notion-de-lvalue" class="md-nav__link">
    <span class="md-ellipsis">
      Notion de lvalue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#un-tableau-nest-pas-une-lvalue" class="md-nav__link">
    <span class="md-ellipsis">
      Un tableau n'est pas une lvalue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#les-fonctions-dallocation-en-cpge" class="md-nav__link">
    <span class="md-ellipsis">
      Les fonctions d'allocation en CPGE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#la-fonction-de-liberation" class="md-nav__link">
    <span class="md-ellipsis">
      La fonction de libération
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#squelette-dallocation" class="md-nav__link">
    <span class="md-ellipsis">
      Squelette d'allocation ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tableau-vs-pointeur" class="md-nav__link">
    <span class="md-ellipsis">
      Tableau VS pointeur ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tableaux-a-plusieurs-dimensions" class="md-nav__link">
    <span class="md-ellipsis">
      Tableaux à plusieurs dimensions ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allocation-dynamique-de-matrice" class="md-nav__link">
    <span class="md-ellipsis">
      Allocation dynamique de « matrice » ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tableaux-statiques-2d-vs-pointeur-de-pointeur" class="md-nav__link">
    <span class="md-ellipsis">
      Tableaux statiques 2D VS pointeur de pointeur
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tableaux statiques 2D VS pointeur de pointeur">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#passage-en-parametre" class="md-nav__link">
    <span class="md-ellipsis">
      Passage en paramètre
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allocation-dynamique-de-matrice-suite" class="md-nav__link">
    <span class="md-ellipsis">
      Allocation dynamique de matrice (suite)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chaine-de-caracteres" class="md-nav__link">
    <span class="md-ellipsis">
      Chaîne de caractères
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chaîne de caractères">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#les-chaines-de-caracteres-comme-tableaux-de-char" class="md-nav__link">
    <span class="md-ellipsis">
      Les chaînes de caractères comme tableaux de char ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acces-aux-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Accès aux éléments ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affichage-et-saisie-au-clavier" class="md-nav__link">
    <span class="md-ellipsis">
      Affichage et saisie au clavier ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#longueur" class="md-nav__link">
    <span class="md-ellipsis">
      Longueur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparer" class="md-nav__link">
    <span class="md-ellipsis">
      Comparer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convertir-en-entier" class="md-nav__link">
    <span class="md-ellipsis">
      Convertir en entier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifier-une-constante-chaine" class="md-nav__link">
    <span class="md-ellipsis">
      Modifier une constante chaîne
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatenation" class="md-nav__link">
    <span class="md-ellipsis">
      Concaténation ♥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tableau-de-constantes-chaines" class="md-nav__link">
    <span class="md-ellipsis">
      Tableau de constantes chaînes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="les-pointeurs">Les pointeurs<a class="headerlink" href="#les-pointeurs" title="Permanent link">&para;</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ce cours a été automatiquement traduit des transparents de M.Noyer par Félix qui continue le travail fait par Lorentzo et Elowan et Mehdi, nous ne nous accordons en aucun cas son travail, ce site à pour seul but d'être plus compréhensible pendant les périodes de révision que des diaporamas.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Crédits</p>
<ul>
<li>Ce cours de <a href="https://openclassrooms.com/fr/courses/19980-apprenez-a-programmer-en-c/15417-a-lassaut-des-pointeurs">OpenClassRoom</a> (Renvoie sur une page vide  ¯\<em>(ツ)</em>/¯ )</li>
<li>Un autre de <a href="https://zestedesavoir.com/tutoriels/755/le-langage-c-1/1043_aggregats-memoire-et-fichiers/4277_les-pointeurs/">Zeste de savoir</a></li>
<li>Un cours d'<a href="https://www.rocq.inria.fr/secret/Anne.Canteaut/COURS_C/chapitre3.html">Anne Canteaut</a></li>
<li>Et toujours <a href="https://fr.wikipedia.org/wiki/Pointeur_(programmation)">Wikipedia</a></li>
</ul>
</div>
<h2 id="pointeurs">Pointeurs<a class="headerlink" href="#pointeurs" title="Permanent link">&para;</a></h2>
<h3 id="acces-a-la-memoire">Accès à la mémoire<a class="headerlink" href="#acces-a-la-memoire" title="Permanent link">&para;</a></h3>
<ul>
<li>Un entier naturel codé en binaire peut-être vu comme :<ul>
<li>ce qu'il est : un nombre destiné par exemple à faire l'objet d'opérations arithmétiques,</li>
<li>une adresse mémoire. Dans ce cas l'utilisation arithmétique du nombre n'est pas ce qui nous intéresse.</li>
</ul>
</li>
<li>Dans les processeurs ont donc été créés des <em>registres d'adresses</em> et dans les langages de programmation, un type dédié.</li>
<li>Pointeurs : Apparus dans <span class="arithmatex">\(\texttt{Aigol 68}\)</span>. Le langage <span class="arithmatex">\(\texttt{C}\)</span> y a ajouté l'<em>arithmétique des pointeurs</em> : quand on incrémente un tel pointeur, il n'est en fait pas forcément incrémenté de un, mais de la taille du type pointé. Cette arithmétique (hors programme) permet donc de se déplacer dans la mémoire.</li>
<li>L'utilisation des pointeurs permet d'avoir accès à la mémoire. On peut se déplacer de case mémoire en case mémoire. Avantage : optimisations sur l'utilisation de la mémoire ou la performance.</li>
</ul>
<h3 id="syntaxe">Syntaxe<a class="headerlink" href="#syntaxe" title="Permanent link">&para;</a></h3>
<h4 id="declaration">Déclaration<a class="headerlink" href="#declaration" title="Permanent link">&para;</a></h4>
<ul>
<li>Syntaxe :</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="mi">1</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">*</span><span class="n">nom</span><span class="w"> </span><span class="n">du</span><span class="w"> </span><span class="n">pointeur</span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>L'astérisque peut être entourée d'espaces et placée n'importe où entre le type et l'identificateur.</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//autorisé</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//autorisé</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//autorisé</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="initialisation">Initialisation<a class="headerlink" href="#initialisation" title="Permanent link">&para;</a></h4>
<ul>
<li>Comme les autres variables, un pointeur ne possède pas de valeur par défaut. pour lui en attribuer une, on utilise l'opérateur d'<em>adressage</em> (ou de <em>référencement</em>) <code>&amp;</code>.</li>
<li>Déclaration puis affectation</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Déclaration et affectation dans la foulée</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Savoir faire : déclaration et initialisation d'un pointeur dans un type donné ♥</li>
</ul>
<h4 id="affichage-des-adresses">Affichage des adresses<a class="headerlink" href="#affichage-des-adresses" title="Permanent link">&para;</a></h4>
<p>Avec :</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;a=%d, &amp;a=%p, &amp;p=%p</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">p</span><span class="p">);</span>
</span></code></pre></div></td></tr></table></div>
<p>On obtient :</p>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nv">a</span><span class="o">=</span><span class="m">10</span>,<span class="w"> </span><span class="p">&amp;</span><span class="nv">a</span><span class="o">=</span>0x7ffc7aaa612c,<span class="w"> </span><span class="p">&amp;</span><span class="nv">p</span><span class="o">=</span>0x7ffc7aaa6130
</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align: center;">nom</th>
<th style="text-align: center;">adresse</th>
<th style="text-align: center;">valeur</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><span class="arithmatex">\(p\)</span></td>
<td style="text-align: center;"><span class="arithmatex">\(\text{0x7ffc7aaa6130}\)</span></td>
<td style="text-align: center;"><span class="arithmatex">\(\text{0x7ffc7aaa612c}\)</span></td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;">...</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex">\(a\)</span></td>
<td style="text-align: center;"><span class="arithmatex">\(\text{0x7ffc7aaa612c}\)</span></td>
<td style="text-align: center;"><span class="arithmatex">\(10\)</span></td>
</tr>
</tbody>
</table>
<h4 id="indirection">Indirection ♥<a class="headerlink" href="#indirection" title="Permanent link">&para;</a></h4>
<p>L'opérateur d'indirection (ou de <em>déréférencement</em>) <code>*</code> prend un pointeur comme opérande et se place juste avant celui-ci. On accède ainsi à la valeur de l'objet référencé par le pointeur, aussi bien pour la lire que pour la modifier.</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">;</span><span class="c1">// &#39;*&#39; sert à la déclaration</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;a=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">);</span><span class="c1">// &#39;*&#39; sert au déréférencement</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="c1">// &#39;*&#39; sert au déréférencement</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;a=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span><span class="c1">// a a été modifié</span>
</span></code></pre></div></td></tr></table></div>
<p>On obtient</p>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nv">a</span><span class="o">=</span><span class="m">3</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nv">a</span><span class="o">=</span><span class="m">20</span>
</span></code></pre></div>
<h4 id="les-differentes-casquettes-de">Les différentes casquettes de <code>*</code><a class="headerlink" href="#les-differentes-casquettes-de" title="Permanent link">&para;</a></h4>
<p>L'opérateur <code>*</code> sert au moins à trois choses distinctes :</p>
<ul>
<li>à la déclaration de pointeurs : <code>int *p = &amp;i</code>;</li>
<li>Au déréférencement : <code>*p=20; // i prend la valeur 20</code></li>
<li>à la multiplication <code>3*5</code>;</li>
</ul>
<h4 id="pointeurs-et-constantes">Pointeurs et constantes<a class="headerlink" href="#pointeurs-et-constantes" title="Permanent link">&para;</a></h4>
<p>Pour info :</p>
<ul>
<li>La règle du mot-clé const est qu'il s'applique sur ce qui est immédiatement à sa gauche, et que s'il n'y a rien à gauche alors ça s'applique sur l'élément immédiatement à droite</li>
<li>Un pointeur peut être déclaré constant :</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="k">const</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="cm">/*Un pointeur constant sur int. non ct */</span>
</span></code></pre></div></td></tr></table></div>
<p>L'étoile est entre le type et le mot clé <code>const</code></p>
<ul>
<li>Un pointeur peut pointer sur une constante</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kt">int</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="cm">/*Pointeur sur int constant. */</span>
</span></code></pre></div></td></tr></table></div>
<p>L'étoile est entre le mot clé <code>const</code> et le nom du pointeur</p>
<ul>
<li>Pointeur constant sur objet constant.</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="kt">int</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">*</span><span class="k">const</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="cm">/*Pointeur constant sur int ct . */</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="k">const</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="cm">/*Pointeur ct sur int ct . */</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="piege-a-la-declaration">Piège à la déclaration<a class="headerlink" href="#piege-a-la-declaration" title="Permanent link">&para;</a></h4>
<ul>
<li>On l'a vu <code>int* p;</code> et <code>int *p;</code> sont compris de la même façon par le compilateur.</li>
<li><code>int *p;</code> permet au lecteur de savoir que <code>*p</code> est un entier. La forme avec l'étoile collée au nom est préférable.</li>
<li><code>int* x,y</code>; ne déclare pas deux pointeurs sur entier mais un pointeur sur entier et un entier. On le comprend mieux en écrivant <code>int *x,y;</code></li>
</ul>
<h3 id="utilite">Utilité<a class="headerlink" href="#utilite" title="Permanent link">&para;</a></h3>
<h4 id="utilite_1">Utilité♥<a class="headerlink" href="#utilite_1" title="Permanent link">&para;</a></h4>
<ul>
<li>On peut utiliser les pointeurs pour faire des <em>effets de bords</em> en les passant en paramètres de fonctions. Ex : passer un pointeur sur une variable <em>x</em> en paramètre de <em>f</em> , permet d'avoir accès au contenu de <em>x</em> et donc de le modifier (voir <span class="arithmatex">\(2\)</span> slides suivants).</li>
<li>Les pointeurs sont une des façons de contourner l'obligation qu'une fonction <span class="arithmatex">\(\texttt{C}\)</span> ne renvoie qu'une seule valeur. L'autre façon courante étant l'utilisation de <em>structure</em> (ou enregistrement).</li>
<li>On peut les utiliser aussi pour stocker des adresses mémoires allouées <em>dynamiquement</em> (<em>i.e.</em> au run time) par l'application.</li>
</ul>
<h4 id="consequence-du-passage-par-valeur">Conséquence du passage par valeur<a class="headerlink" href="#consequence-du-passage-par-valeur" title="Permanent link">&para;</a></h4>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">incremente</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">){</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">    </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="p">}</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;y=%d,incremente(y)=%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="n">incremente</span><span class="p">(</span><span class="n">y</span><span class="p">));</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;; y=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">y</span><span class="p">);</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nv">y</span><span class="o">=</span><span class="m">3</span>,incremente<span class="o">(</span>y<span class="o">)=</span><span class="m">4</span><span class="p">;</span><span class="w"> </span><span class="nv">y</span><span class="o">=</span><span class="m">3</span>
</span></code></pre></div>
<ul>
<li>Le contenu de la variable <strong>y</strong> de <strong>main</strong> n'a pas été modifié par l'appel de <strong>incremente</strong>. On dit que le passage de l'argument se fait <em>par valeur</em>, ce qui signifie que c'est une copie de <strong>y</strong> qui est passée en
paramètre de la fonction. Pour changer <strong>y</strong> on utilisera son adresse, c'est à dire un <em>pointeur</em>.</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">incremente</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">y</span><span class="p">){</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">    </span><span class="o">*</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="p">}</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;y=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">    </span><span class="n">incremente</span><span class="p">(</span><span class="o">&amp;</span><span class="n">y</span><span class="p">);</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Arpès incremente(y) : y=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">y</span><span class="p">);</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>Après compilation/exécution :</p>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>$./a.out$
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nv">y</span><span class="o">=</span><span class="m">3</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>Après<span class="w"> </span>incremente<span class="o">(</span>y<span class="o">)</span><span class="w"> </span>:<span class="w"> </span><span class="nv">y</span><span class="o">=</span><span class="m">4</span>
</span></code></pre></div>
<h4 id="pointeurs-dans-dautres-langages">Pointeurs dans d'autres langages<a class="headerlink" href="#pointeurs-dans-dautres-langages" title="Permanent link">&para;</a></h4>
<ul>
<li>Dans les langages de plus haut niveau (ex : <span class="arithmatex">\(\texttt{OCAML}\)</span>), l'utilisation des pointeurs est supprimée, au profit des références et des tableaux dynamiques gérés par le compilateur.</li>
<li>On y gagne en simplicité, on évite de nombreux bugs mais on perd certaines possibilités d'optimisation.</li>
</ul>
<h4 id="retourner-plusieurs-valeurs">« Retourner » plusieurs valeurs<a class="headerlink" href="#retourner-plusieurs-valeurs" title="Permanent link">&para;</a></h4>
<h5 id="passage-de-pointeurs-en-parametres">Passage de pointeurs en paramètres<a class="headerlink" href="#passage-de-pointeurs-en-parametres" title="Permanent link">&para;</a></h5>
<ul>
<li>On contourne l'obligation faite aux fonctions C de ne retourner
qu'une seule valeur.</li>
</ul>
<div class="admonition example">
<p>On veut appliquer à un point une translation de vecteur donné et récupérer le résultat.</p>
</div>
<ul>
<li>On ne peut pas retourner un tuple de coordonées comme en <span class="arithmatex">\(\texttt{Python}\)</span> au <span class="arithmatex">\(\texttt{OCaml}\)</span>.</li>
<li>Solution : utiliser des pointeurs sur les coordonnées du résultat.</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="kt">void</span><span class="w"> </span><span class="n">translate</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">vx</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">vy</span><span class="p">,</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="o">*</span><span class="n">rx</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="o">*</span><span class="n">ry</span><span class="p">)</span>
</span></code></pre></div></td></tr></table></div>
<p>applique une translation de vecteur <span class="arithmatex">\(V (v_x,v_y)\)</span> à un point <span class="arithmatex">\(A(x ,y )\)</span> et met les coordonnées du résultat <span class="arithmatex">\(R(r_x,r_y)\)</span> dans deux variables. Les coordonnées de <span class="arithmatex">\(A\)</span> et <span class="arithmatex">\(V\)</span> sont passées en paramètres. Pour le résultat, ce sont adresses de ses coordonnées qui sont passées en paramètres.</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-16-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-16-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-16-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-16-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-16-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-16-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-16-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-16-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-16-10">10</a></span>
<span class="normal"><a href="#__codelineno-16-11">11</a></span>
<span class="normal"><a href="#__codelineno-16-12">12</a></span>
<span class="normal"><a href="#__codelineno-16-13">13</a></span>
<span class="normal"><a href="#__codelineno-16-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">translate</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">vx</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">vy</span><span class="p">,</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="o">*</span><span class="n">rx</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="o">*</span><span class="n">ry</span><span class="p">){</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="w">    </span><span class="c1">// translation de vecteur V(vx,vy)</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">    </span><span class="o">*</span><span class="n">rx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">vx</span><span class="p">;</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="w">    </span><span class="o">*</span><span class="n">ry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">vy</span><span class="p">;</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="p">}</span><span class="c1">// fin translate</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7"></a>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span><span class="c1">// coordonnées du point A(x,y)</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10"></a><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">rx</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">ry</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// ré sultat de la translation</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11"></a><span class="w">    </span><span class="n">translate</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rx</span><span class="p">,</span><span class="o">&amp;</span><span class="n">ry</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// translater A de (1,2)</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;rx=%.1f ry=%.1f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">rx</span><span class="p">,</span><span class="n">ry</span><span class="p">);</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">EXIT</span><span class="w"> </span><span class="n">SUCCESS</span><span class="p">;</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14"></a><span class="p">}</span><span class="w"> </span><span class="c1">// fin main</span>
</span></code></pre></div></td></tr></table></div>
<p>On obtient</p>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nv">x</span><span class="o">=</span><span class="m">4</span>.0<span class="w"> </span><span class="nv">y</span><span class="o">=</span><span class="m">8</span>.0
</span></code></pre></div>
<h3 id="pointeur-textnull-mot-cle-textvoid">Pointeur <span class="arithmatex">\(\text{NULL}\)</span>, mot clé <span class="arithmatex">\(\text{void}\)</span><a class="headerlink" href="#pointeur-textnull-mot-cle-textvoid" title="Permanent link">&para;</a></h3>
<h4 id="pointeur-nul">Pointeur nul<a class="headerlink" href="#pointeur-nul" title="Permanent link">&para;</a></h4>
<ul>
<li>Un <em>pointeur nul</em> est un pointeur contenant une adresse invalide. Cette adresse invalide dépend du système d'exploitation, mais elle est la même pour tous les pointeurs nuls. Ainsi, deux pointeurs nuls ont une valeur égale.</li>
<li>La constante <code>NULL</code> est définie dans l'en-tête <code>&lt;stddef.h&gt;</code></li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="cm">/*Un pointeur nul */</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Le pointeur <code>NULL</code> est souvent utilisé comme marqueur de fin dans une structure définie récursivement (exemple : listes chaînées).</li>
<li>Il sert aussi à indiquer que quelque chose s'est mal passé (ex <code>malloc</code>)</li>
</ul>
<h4 id="le-mot-cle-void">Le mot clé <code>void</code><a class="headerlink" href="#le-mot-cle-void" title="Permanent link">&para;</a></h4>
<ul>
<li><code>void</code> n'est pas un type, c'est un mot clé. Plus précisément, c'est un type dit « incomplet » , c'est à dire que sa taille n'est pas calculable et qu'il n'est pas utilisable dans des expressions.</li>
<li>On l'utilise pour déclarer qu'une fonction ne renvoie pas de valeur : <code>void f(int x)</code></li>
<li>Pour les fonctions sans argument, préferer <code>int f(void)</code> (qui signifie explicitement que <code>f</code> ne prend pas d'argument) à <code>int f()</code> qui indique que le nombre d'arguments de <code>f</code> n'est pas connu.</li>
<li><code>void *</code> désigne un pointeur vers une valeur dont on ne connaît pas le type (c'est un pointeur <em>générique</em>). Un pointeur sur <code>void</code> est considéré comme un pointeur générique : il peut référencer n'importe quel type.</li>
</ul>
<div class="admonition example">
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="nf">malloc</span><span class="p">(</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">memorySize</span><span class="w"> </span><span class="p">);</span><span class="c1">//prototype de malloc</span>
</span></code></pre></div></td></tr></table></div>
</div>
<ul>
<li>Les règles de typage du <span class="arithmatex">\(\texttt{C}\)</span> permettent d'utiliser <code>void*</code> là où une valeur d'un certain type de pointeur est attendu. On peut donc écrire</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="w"> </span><span class="n">siezof</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// alocation d&#39;un pointeur sur le tas.</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Enfin <code>void *</code> permet le <em>polymorphisme</em>. Exemple : une fonction qui agit sur un tableau dont les éléments sont de type quelconque. Nous n'utilisons pas cette fonctionnalité.</li>
<li>Le spécifieur de format <code>%p</code> de <code>printf</code> attend un pointeur sur n'importe quel type et affiche sa valeur (donc une adresse), que le pointeur pointe sur un objet de type <code>int, double, char...</code></li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span>
<span class="normal"><a href="#__codelineno-21-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;adresse=\%p&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">);</span><span class="w"> </span><span class="c1">// affichage d&#39;une adresse</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="valeur-de-retour">Valeur de retour<a class="headerlink" href="#valeur-de-retour" title="Permanent link">&para;</a></h3>
<h4 id="pointeur-comme-valeur-retournee">Pointeur comme valeur retournée<a class="headerlink" href="#pointeur-comme-valeur-retournee" title="Permanent link">&para;</a></h4>
<ul>
<li>Une fonction peut retourner un pointeur.</li>
<li>Cependant : l'objet référencé par le pointeur retourné doit toujours exister au moment de son utilisation.</li>
<li>Il faut se poser la question :<ul>
<li>l'adresse retournée est-elle celle d'une variable locale à la fonction (donc gérée automatiquement dans la pile d'exécution) ? Si c'est le cas, cette adresse peut servir dans d'autres contextes d'exécution et son contenu risque d'échapper au programmeur distrait.</li>
<li>l'adresse retournée désigne-t-elle une zone mémoire allouée sur le tas ? Si c'est le cas, il faut bien penser à la libérer par la suite.</li>
</ul>
</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-22-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-22-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-22-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-22-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-22-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-22-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-22-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-22-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-22-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="nf">ptr</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span><span class="w"> </span><span class="c1">// retourne un pointeur sur int</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">n</span><span class="p">;</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="p">}</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ptr</span><span class="p">()</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="w">    </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">);</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>On obtient</p>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>$./a.out
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>Erreur<span class="w"> </span>de<span class="w"> </span>segmentation<span class="w"> </span><span class="o">(</span>core<span class="w"> </span>dumped<span class="o">)</span>
</span></code></pre></div>
<ul>
<li>Le problème vient de la ligne</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="c1">// dans ptr ()</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Les variables locales comme <code>n</code> de <code>ptr</code> se voient allouer un emplacement en mémoire de façon dynamique lors de l'exécution du programme. Le segment de mémoire dans lequel sont stockées les variables temporaires est appelé <em>segment de pile</em></li>
<li>Leur emplacement en mémoire est libéré à la fin de l'exécution d'une fonction secondaire comme <code>ptr</code>.</li>
<li>Donc la fonction <strong>ptr</strong> renvoie une adresse qui n'est plus pertinente et qui sera utilisée par d'autres appels à d'autres fonctions. On dit que c'est un <em>pointeur fantôme</em></li>
</ul>
<h5 id="mot-cle-static">Mot clé static<a class="headerlink" href="#mot-cle-static" title="Permanent link">&para;</a></h5>
<ul>
<li>On modifie juste la ligne <span class="arithmatex">\(3\)</span> du code précédent :</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="c1">// dans ptr</span>
</span></code></pre></div></td></tr></table></div>
<p>On obtient</p>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>$./a.out
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="m">10</span>
</span></code></pre></div>
<ul>
<li>Une variable locale déclarée <code>static</code> occupe toujours la même adresse en mémoire à chaque appel de la fonction.
On verra plus tard que la partie de la mémoire (allouée au programme) qui contient les variables statiques (comme d'ailleurs les variables globales) est appelée <em>segment de données</em>.</li>
<li>Cette solution n'est pas d'un grand intérêt sauf si on a absolument besoin que l'adresse retournée soit toujours la même ! On préfère <em>l'allocation dynamique</em> (voir plus loin).</li>
</ul>
<h3 id="pointeur-sur-pointeur">Pointeur sur pointeur<a class="headerlink" href="#pointeur-sur-pointeur" title="Permanent link">&para;</a></h3>
<ul>
<li>Un pointeur <strong>p</strong> a une adresse qu'on récupère avec <code>&amp;p</code></li>
<li>Dans le <code>main</code>, écrivons :</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span>
<span class="normal"><a href="#__codelineno-27-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">pa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">;</span><span class="c1">// pointeur sur int</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="kt">int</span><span class="w"> </span><span class="o">**</span><span class="n">pp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">pa</span><span class="p">;</span><span class="c1">// pointeur sur pointeur sur int</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;a =%d,*pa=%d,**pp=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="o">*</span><span class="n">pa</span><span class="p">,</span><span class="o">**</span><span class="n">pp</span><span class="p">);</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;pa=%p,*pp=%p</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">pa</span><span class="p">,</span><span class="o">*</span><span class="n">pp</span><span class="p">);</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Avec <code>*pp</code> on récupère l'adresse de <strong>a</strong> et avec <code>**pp</code> , la valeur de <strong>a</strong>.</li>
<li>Après compilation/exécution :</li>
</ul>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>$./a.out
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="m">10</span>,*pa<span class="o">=</span><span class="m">10</span>,**pp<span class="o">=</span><span class="m">10</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="nv">pa</span><span class="o">=</span>0x7ffc67074a04,*pp<span class="o">=</span>0x7ffc67074a04
</span></code></pre></div>
<h3 id="dangers">Dangers<a class="headerlink" href="#dangers" title="Permanent link">&para;</a></h3>
<h4 id="complexification-du-code">Complexification du code<a class="headerlink" href="#complexification-du-code" title="Permanent link">&para;</a></h4>
<ul>
<li>Très puissante, l'utilisation de pointeurs rend plus difficile le travail du développeur.</li>
<li>♥ Si on ne fait pas attention avec les pointeurs, le programme peut accéder à une zone mémoire qui ne lui est pas allouée ou dans laquelle il ne peut pas écrire. Le processeur via le système d'exploitation engendre alors une <em>erreur
de segmentation</em> (segmentation fault) qui provoque une exception voire plante l'application.</li>
<li>♥ Si c'est le programmeur qui gère les allocations en mémoire, il ne doit pas oublier de libérer après usage la zone allouée sous peine de <em>fuite de mémoire</em> : Il s'agit d'un bug qui résulte d'une occupation croissante non contrôlés ou non désirée de la mémoire. DANGER : saturation possible de la RAM.</li>
</ul>
<h4 id="un-exemple-de-segmentation-fault">Un exemple de segmentation fault<a class="headerlink" href="#un-exemple-de-segmentation-fault" title="Permanent link">&para;</a></h4>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span>
<span class="normal"><a href="#__codelineno-29-2">2</a></span>
<span class="normal"><a href="#__codelineno-29-3">3</a></span>
<span class="normal"><a href="#__codelineno-29-4">4</a></span>
<span class="normal"><a href="#__codelineno-29-5">5</a></span>
<span class="normal"><a href="#__codelineno-29-6">6</a></span>
<span class="normal"><a href="#__codelineno-29-7">7</a></span>
<span class="normal"><a href="#__codelineno-29-8">8</a></span>
<span class="normal"><a href="#__codelineno-29-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span><span class="c1">// contient EXIT SUCCESS</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3"></a>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">variable</span><span class="w"> </span><span class="n">entiere</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// dé claration d&#39;un pointeur</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot; saisir une valeur : &quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7"></a><span class="w">    </span><span class="n">scanf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">entiere</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">EXIT</span><span class="w"> </span><span class="n">SUCCESS</span><span class="p">);</span><span class="c1">// indique que tout s&#39;est bien passé</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>$./a.out
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>entrer<span class="w"> </span>une<span class="w"> </span>valeur<span class="w"> </span>:<span class="w"> </span><span class="m">23</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>Erreur<span class="w"> </span>de<span class="w"> </span>segmentation<span class="w"> </span><span class="o">(</span>core<span class="w"> </span>dumped<span class="o">)</span>
</span></code></pre></div>
<ul>
<li>Explication : le pointeur <code>variable_entiere</code> n'est pas initialisé donc contient n'importe quoi (possiblement, une adresse interdite en écriture). Quand <code>scanf</code> veut accèder à cette adresse l'OS le lui refuse.</li>
</ul>
<h2 id="allocation-dynamique">Allocation dynamique<a class="headerlink" href="#allocation-dynamique" title="Permanent link">&para;</a></h2>
<h3 id="allouer-de-la-memoire">Allouer de la mémoire ♥<a class="headerlink" href="#allouer-de-la-memoire" title="Permanent link">&para;</a></h3>
<p>Trois manières pour l'allocation de mémoire dans un programme :</p>
<ul>
<li>Statiquement, au cours de la compilation lorsque le compilateur lit des mots clés comme <code>const</code> ou <code>static</code> dans le code source. Adresses mémoires connues à l'initialisation de la mémoire du programme. Ces adresses correspondent à ce qu'on appelle le <em>segment de données</em> du programme.</li>
<li>Dynamiquement, au cours de l'exécution :<ul>
<li>soit de façon automatique sur la <em>pile d'exécution</em> : variables locales déclarées dans un bloc d'instructions,</li>
<li>soit à la demande sur le <em>tas</em> : en utilisant des fonctions d'allocation de la mémoire.</li>
</ul>
</li>
<li>Il y a donc trois zones de données distinctes pour le programme. On affinera leur description dans un cours à venir.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;"></th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">segment de données</td>
<td style="text-align: center;">var. globales ou var. locales statiques</td>
</tr>
<tr>
<td style="text-align: center;">pile d'exécution</td>
<td style="text-align: center;">var. locales</td>
</tr>
<tr>
<td style="text-align: center;">tas</td>
<td style="text-align: center;">allocation dynamique par <code>malloc</code></td>
</tr>
</tbody>
</table>
<h3 id="allouer-de-lespace">Allouer de l'espace<a class="headerlink" href="#allouer-de-lespace" title="Permanent link">&para;</a></h3>
<ul>
<li>Un pointeur non initialisé est égal à la constante symbolique <code>NULL</code> de <code>&lt;stddef.h&gt;</code>. Le test <code>p == NULL</code> permet de savoir si le pointeur <span class="arithmatex">\(p\)</span> pointe vers un objet.</li>
<li>On a vu comment initialiser un pointeur en lui affectant l'adresse d'une autre variable <code>int * p =&amp;a</code>;</li>
<li>Pour affecter directement une valeur à <code>*p</code>, il faut d'abord réserver à <code>*p</code> un espace-mémoire de taille adéquate avec <code>malloc</code> de <code>&lt;stdlib.h&gt;</code>.</li>
<li>L'adresse de cet espace-mémoire est la valeur de <code>p</code></li>
<li>Cette opération est appelée <em>allocation dynamique</em></li>
</ul>
<h3 id="la-fonction-malloc">La fonction <code>malloc</code><a class="headerlink" href="#la-fonction-malloc" title="Permanent link">&para;</a></h3>
<ul>
<li>Syntaxe</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="nf">malloc</span><span class="p">(</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// allocation en nb de bytes</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>La valeur retournée est l'adresse du premier octet de la zone mémoire allouée. Si l'allocation n'a pu se réaliser (par manque de mémoire libre), la valeur de retour est la constante <strong>NULL</strong>.</li>
<li>Toute utilisation de <code>malloc</code> doit être suivie plus tard d'une libération de l'espace réservé</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">free</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<p>Le seul paramètre à passer est l'adresse du premier octet de la zone allouée et aucune valeur n'est retournée une fois cette opération réalisée.</p>
<div class="admonition example">
<p class="admonition-title">Exemple ♥</p>
<ul>
<li>Réserver <span class="arithmatex">\(32\)</span> octets et les libérer immédiatement.</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-33-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-33-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-33-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-33-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-33-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-33-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-33-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-33-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-33-10">10</a></span>
<span class="normal"><a href="#__codelineno-33-11">11</a></span>
<span class="normal"><a href="#__codelineno-33-12">12</a></span>
<span class="normal"><a href="#__codelineno-33-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span><span class="c1">// tiré de Wikipedia</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">pointeur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="mi">8</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//8x4 octets</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4"></a>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pointeur</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;L&#39; allocation n&#39;a pu ê tre ré alis ée</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; allocation : succès</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot; valeur de p=%p</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">);</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10"></a><span class="w">        </span><span class="n">free</span><span class="p">(</span><span class="n">pointeur</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">//Libération des 32 octets</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11"></a><span class="w">        </span><span class="n">pointeur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"> </span><span class="c1">// Invalidation du pointeur</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12"></a><span class="w">    </span><span class="p">}...</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>allocation<span class="w"> </span>:<span class="w"> </span>succès<span class="p">;</span><span class="w"> </span>valeur<span class="w"> </span>de<span class="w"> </span><span class="nv">pointeur</span><span class="o">=</span>0x55fb8de5f260
</span></code></pre></div>
</div>
<h3 id="allocation-dynamique-vs-automatique">Allocation dynamique vs automatique ♥<a class="headerlink" href="#allocation-dynamique-vs-automatique" title="Permanent link">&para;</a></h3>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-35-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-35-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-35-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-35-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-35-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-35-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-35-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-35-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-35-10">10</a></span>
<span class="normal"><a href="#__codelineno-35-11">11</a></span>
<span class="normal"><a href="#__codelineno-35-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">;</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3"></a>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// alloc . dyn. sur le tas</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// attention : p ne pointe pas sur i</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6"></a>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">r</span><span class="o">=&amp;</span><span class="n">i</span><span class="p">;</span><span class="c1">// alloc . auto. sur la pile</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8"></a>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9"></a><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot; i =%d,*p=%d, *r=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="o">*</span><span class="n">p</span><span class="p">,</span><span class="o">*</span><span class="n">r</span><span class="p">);</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10"></a><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;p=%p, r=%p</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">r</span><span class="p">);</span>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11"></a>
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12"></a><span class="n">free</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<p><code>p</code> ne pointe pas sur <code>i</code> mais <code>r</code> si. Modifier <code>*p</code> ne modifie pas <code>i</code>, mais modifier <code>*r</code> modifie <code>i</code></p>
<h3 id="assertions-rappel">Assertions (rappel)<a class="headerlink" href="#assertions-rappel" title="Permanent link">&para;</a></h3>
<p>Pour diverses raisons on peut souhaiter interrompre un programme si une condition n'est pas réalisée (ex : impossibilité d'allouer de la mémoire). Les <em>assertions</em> sont alors utiles.</p>
<div class="admonition example">
<p class="admonition-title">Exemple d'assertion</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span>
<span class="normal"><a href="#__codelineno-36-2">2</a></span>
<span class="normal"><a href="#__codelineno-36-3">3</a></span>
<span class="normal"><a href="#__codelineno-36-4">4</a></span>
<span class="normal"><a href="#__codelineno-36-5">5</a></span>
<span class="normal"><a href="#__codelineno-36-6">6</a></span>
<span class="normal"><a href="#__codelineno-36-7">7</a></span>
<span class="normal"><a href="#__codelineno-36-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2"></a>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// on veut imposer i &gt; 1</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5"></a><span class="w">    </span><span class="n">assert</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// si i &lt;= 1 : arrêt du pgm</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;poursuite du pgm&quot;</span><span class="p">);</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>Trace d'exécution :</p>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>a.out:<span class="w"> </span>assertion2.c:8:<span class="w"> </span>main:<span class="w"> </span>Assertion<span class="w"> </span>‘i<span class="w"> </span>&gt;1‘<span class="w"> </span>failed.
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>Abandon<span class="w"> </span><span class="o">(</span>core<span class="w"> </span>dumped<span class="o">}</span>
</span></code></pre></div>
</div>
<ul>
<li>On la vu que les assertions servent à se protéger d'un comportement aberrant en arrêtant le programmme.</li>
<li>Elles servent aussi en phase de conception d'un programme :<ul>
<li>Il faut en effet compiler régulièrement (dès qu'on ajoute un bloc d'instructions ?)</li>
<li>Si l'écriture du programme n'est pas encore terminée : ajouter des assertions dans les branches non écrites des instructions conditionnelles. Cela permet de compiler (donc de vérifier la syntaxe) et de tester les branches complétées.</li>
</ul>
</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span>
<span class="normal"><a href="#__codelineno-38-2">2</a></span>
<span class="normal"><a href="#__codelineno-38-3">3</a></span>
<span class="normal"><a href="#__codelineno-38-4">4</a></span>
<span class="normal"><a href="#__codelineno-38-5">5</a></span>
<span class="normal"><a href="#__codelineno-38-6">6</a></span>
<span class="normal"><a href="#__codelineno-38-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">f</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">){</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2"></a><span class="w">    </span><span class="n">assert</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">);</span><span class="c1">// on quitte le pgm si x&lt;=0</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="w">    </span><span class="c1">// bloc de code complètement écrit</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4"></a><span class="w">    </span><span class="c1">// ne concernant que x&gt;0 et à tester</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">NimporteQuoi</span><span class="p">;</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="assertion-et-bon-fonctionnement-dune-allocation">Assertion et bon fonctionnement d'une allocation<a class="headerlink" href="#assertion-et-bon-fonctionnement-dune-allocation" title="Permanent link">&para;</a></h3>
<h4 id="exemple-dassertion">Exemple d'assertion<a class="headerlink" href="#exemple-dassertion" title="Permanent link">&para;</a></h4>
<ul>
<li>Pour diverses raisons, l'allocation dynamique peut échouer. Le pointeur est alors égal au pointeur <code>NULL</code>. On devrait toujours tester si l'allocation s'est bien déroulée.</li>
<li>Il est plus prudent d'arrêter l'exécution du programme en cas d'échec d'allocation. On peut utiliser une <em>assertion</em>.</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span>
<span class="normal"><a href="#__codelineno-39-2">2</a></span>
<span class="normal"><a href="#__codelineno-39-3">3</a></span>
<span class="normal"><a href="#__codelineno-39-4">4</a></span>
<span class="normal"><a href="#__codelineno-39-5">5</a></span>
<span class="normal"><a href="#__codelineno-39-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">,</span><span class="mf">3.</span><span class="p">};</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">copy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="c1">// on veut copier t dans copy</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3"></a>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="cm">/*Allocation de la mémoire */</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="n">copy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">*</span><span class="k">sizeof</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="n">assert</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">copy</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// si échec, arr ê ter le pgm</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="hors-programme">(Hors programme)<a class="headerlink" href="#hors-programme" title="Permanent link">&para;</a></h3>
<h4 id="arithmetique-des-pointeurs">Arithmétique des pointeurs<a class="headerlink" href="#arithmetique-des-pointeurs" title="Permanent link">&para;</a></h4>
<p>Les opérations valides sur les pointeurs sont :</p>
<ul>
<li>l'addition d'un entier à un pointeur. Le résultat est un pointeur de même type que le pointeur de départ;</li>
<li>la soustraction d'un entier à un pointeur. Le résultat est un pointeur de même type que le pointeur de départ;</li>
<li>la différence de deux pointeurs pointant tous deux vers des objets de même type. Le résultat est un entier.</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span>
<span class="normal"><a href="#__codelineno-40-2">2</a></span>
<span class="normal"><a href="#__codelineno-40-3">3</a></span>
<span class="normal"><a href="#__codelineno-40-4">4</a></span>
<span class="normal"><a href="#__codelineno-40-5">5</a></span>
<span class="normal"><a href="#__codelineno-40-6">6</a></span>
<span class="normal"><a href="#__codelineno-40-7">7</a></span>
<span class="normal"><a href="#__codelineno-40-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">p2</span><span class="p">;</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4"></a><span class="w">    </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">i</span><span class="p">;</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5"></a><span class="w">    </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;p1 = %p </span><span class="se">\t</span><span class="s"> p2 = %p </span><span class="se">\t</span><span class="s"> p2−p1=%ld</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p2</span><span class="err">−</span><span class="n">p1</span><span class="p">);</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>On obtient</p>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="nv">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x7fff37e6dc34<span class="w"> </span><span class="nv">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x7fff37e6dc38<span class="w"> </span>p2−p1<span class="o">=</span><span class="m">1</span>
</span></code></pre></div>
<p>La différence entre les adresses est <span class="arithmatex">\(4\)</span>, c'est à dire la taille d'un <code>int</code>. l'expression <code>p2 - p1</code> désigne en fait un entier dont la valeur est égale à <code>(p2 - p1)/sizeof(int)</code>.</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span>
<span class="normal"><a href="#__codelineno-42-2">2</a></span>
<span class="normal"><a href="#__codelineno-42-3">3</a></span>
<span class="normal"><a href="#__codelineno-42-4">4</a></span>
<span class="normal"><a href="#__codelineno-42-5">5</a></span>
<span class="normal"><a href="#__codelineno-42-6">6</a></span>
<span class="normal"><a href="#__codelineno-42-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.</span><span class="p">;</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="o">*</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">p2</span><span class="p">;</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4"></a><span class="w">    </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">i</span><span class="p">;</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5"></a><span class="w">    </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="err">−</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;p1 = %p </span><span class="se">\t</span><span class="s"> p2 = %p </span><span class="se">\t</span><span class="s"> p2−p1=%ld</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p2</span><span class="err">−</span><span class="n">p1</span><span class="p">);</span>
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;}</span>
</span></code></pre></div></td></tr></table></div>
<p>On obtient</p>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>$./a.out
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="nv">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x7ffcadcfc8e0<span class="w"> </span><span class="nv">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x7ffcadcfc8d8<span class="w"> </span>p2−p1<span class="o">=</span>−1
</span></code></pre></div>
<p>La différence entre les adresses est</p>
<p><span class="arithmatex">\(e0_{16} −d8_{16} = 14_{10} ×16_{10} + 0 −(13_{10} ×16_{10} + 8_{10}) = 8_{10}\)</span></p>
<p>C'est la taille d'un <code>double</code></p>
<h2 id="pointeur-et-tableaux">Pointeur et tableaux<a class="headerlink" href="#pointeur-et-tableaux" title="Permanent link">&para;</a></h2>
<h3 id="tableaux">Tableaux ♥<a class="headerlink" href="#tableaux" title="Permanent link">&para;</a></h3>
<p>(Rappel)</p>
<ul>
<li>Déclaration de tableaux :</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span>
<span class="normal"><a href="#__codelineno-44-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="c1">//type nomDuTableau[taille] ;</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="kt">int</span><span class="w"> </span><span class="n">tableau</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// tableau de 4 entiers</span>
</span></code></pre></div></td></tr></table></div>
<p>Déclaration et initialisation :</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1">1</a></span>
<span class="normal"><a href="#__codelineno-45-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">tableau</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">};</span><span class="w"> </span><span class="c1">// les 4 elts de tab sont initialis és</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2"></a><span class="kt">float</span><span class="w"> </span><span class="n">tib</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">2.1</span><span class="p">}</span><span class="c1">// seuls 2 elts de tib sont initialis és</span>
</span></code></pre></div></td></tr></table></div>
<p>Accès aux éléments comme en Python avec <code>tab[i]</code></p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span>
<span class="normal"><a href="#__codelineno-46-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="n">tab</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span><span class="c1">// l&#39;elt 1 de tab vaut 23</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2"></a><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;tab[%d]=%d&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">tab</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="acces-aux-elements-dun-tableau">Accès aux éléments d'un tableau<a class="headerlink" href="#acces-aux-elements-dun-tableau" title="Permanent link">&para;</a></h3>
<p>(Rappel) Considérons <code>int tab[2]</code>;</p>
<ul>
<li>Un nom de tableau comme tab désigne, après déclaration, par convention un pointeur constant sur le premier bloc de son premier élément.</li>
<li>On peut utiliser un pointeur initialisé à <code>tab</code> pour parcourir les éléments du tableau par <em>arithmétique des pointeurs</em> (hors programme en CPGE).</li>
<li>Pour accéder à <code>tab[2]</code>, le système ajoute à l'adresse du (premier bloc) de <code>tab[0]</code> le produit <span class="arithmatex">\(2*4\)</span><ul>
<li>le nombre <span class="arithmatex">\(2\)</span> pour la position dans le tableau,</li>
<li>le nombre <span class="arithmatex">\(4\)</span> pour la taille d'un <code>int</code> (<span class="arithmatex">\(4\)</span> octets / <code>int</code>).</li>
</ul>
</li>
</ul>
<h3 id="passage-dun-tableau-en-parametre-dune-fonction">Passage d'un tableau en paramètre d'une fonction ♥<a class="headerlink" href="#passage-dun-tableau-en-parametre-dune-fonction" title="Permanent link">&para;</a></h3>
<p>(Rappel)</p>
<ul>
<li>La fonction ci-dessous affiche les éléments d'un tableau</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1">1</a></span>
<span class="normal"><a href="#__codelineno-47-2">2</a></span>
<span class="normal"><a href="#__codelineno-47-3">3</a></span>
<span class="normal"><a href="#__codelineno-47-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">affiche</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">tableau</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">tailleTableau</span><span class="w"> </span><span class="p">){</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">tailleTableau</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3"></a><span class="w">        </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">tab</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="p">])</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Les tableaux sont en fait passés en paramètre comme des copies de pointeur sur leur <span class="arithmatex">\(1\)</span>er élément.</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Exemple de <strong>main</strong></p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1">1</a></span>
<span class="normal"><a href="#__codelineno-48-2">2</a></span>
<span class="normal"><a href="#__codelineno-48-3">3</a></span>
<span class="normal"><a href="#__codelineno-48-4">4</a></span>
<span class="normal"><a href="#__codelineno-48-5">5</a></span>
<span class="normal"><a href="#__codelineno-48-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">tab</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="err">−</span><span class="mi">12</span><span class="p">};</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3"></a><span class="w">    </span><span class="c1">// afficher le contenu du tableau</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4"></a><span class="w">    </span><span class="n">affiche</span><span class="w"> </span><span class="p">(</span><span class="n">tab</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</div>
<h3 id="notion-de-lvalue">Notion de <em>lvalue</em><a class="headerlink" href="#notion-de-lvalue" title="Permanent link">&para;</a></h3>
<ul>
<li>Une <em>lvalue</em> (left value) est une expression désignant un objet modifiable.</li>
<li>Les expressions qui sont des <em>lvalue</em> :<ul>
<li>identificateur de variable :<ul>
<li>N'ayant pas reçu le qualifieur <code>const</code></li>
<li>Autre qu'un nom de tableau</li>
<li>dans le cas d'une variable de type structure ou union, celle-ci ne doit pas comporter de champs constant.</li>
</ul>
</li>
<li>Expression de la forme <code>*p</code> ou <code>*(adr)</code> : <code>p</code> (resp. <code>adr</code>) étant une variable (resp.expression) de type pointeur sur un objet non constant.</li>
<li>élément de tableau :<ul>
<li>autre que tableau (cas des tableaux multi-indice)</li>
<li>autre que structure ou union avec champ constant</li>
</ul>
</li>
<li>Champ de structure ou d'union : même précisions que pour les tableaux</li>
</ul>
</li>
</ul>
<h3 id="un-tableau-nest-pas-une-lvalue">Un tableau n'est pas une <em>lvalue</em><a class="headerlink" href="#un-tableau-nest-pas-une-lvalue" title="Permanent link">&para;</a></h3>
<ul>
<li>Considérons : <code>int tab[4];</code> Un nom de tableau comme <code>tab</code> utilisé plus loin dans le programme désigne en fait un pointeur constant (non modifiable) dont la valeur est l'adresse du (premier bloc du) <code>tab[0]</code>. Après déclaration, <code>tab</code> a pour valeur <code>&amp;tab[0]</code>.</li>
<li><code>tab=tab2</code> soulève une erreur à la compilation (les noms de tableau ne sont pas des <em>lvalue</em>).</li>
</ul>
<h3 id="les-fonctions-dallocation-en-cpge">Les fonctions d'allocation en CPGE<a class="headerlink" href="#les-fonctions-dallocation-en-cpge" title="Permanent link">&para;</a></h3>
<p>(D'après <a href="https://www.koors.io">Koors</a>)
<code>malloc</code> de <code>&lt;stdlib.h&gt;</code></p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="nf">malloc</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">memorySize</span><span class="p">);</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Cette fonction permet d'allouer un bloc de mémoire dans le tas (<em>heap</em> en anglais).</li>
<li>Attention : la mémoire allouée dynamiquement n'est pas automatiquement relachée. Il faudra donc, après utilisation, libérer ce bloc de mémoire via un appel à la fonction <code>free</code></li>
</ul>
<p>(D'après <a href="https://www.koors.io">Koors</a>)</p>
<p><code>calloc</code>de <code>&lt;stdlib.h&gt;</code></p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-50-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="nf">calloc</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">elementCount</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">elementSize</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<p>Cette fonction alloue un bloc de mémoire en initialisant tous ces octets à la valeur <span class="arithmatex">\(0\)</span>. Bien que relativement proche de la fonction <code>malloc</code>, deux aspects les différencient :</p>
<ul>
<li>L'initialisation : <code>calloc</code> met tous les octets du bloc à la valeur <span class="arithmatex">\(0\)</span> alors que malloc ne modifie pas la zone de mémoire.</li>
<li>Les paramètres d'appels : <code>calloc</code> requière deux paramètres (le nombre d'éléments consécutifs à allouer et la taille d'un élément) alors que <code>malloc</code> attend la taille totale du bloc à allouer.</li>
</ul>
<h3 id="la-fonction-de-liberation">La fonction de libération<a class="headerlink" href="#la-fonction-de-liberation" title="Permanent link">&para;</a></h3>
<ul>
<li>free de stdlib.h</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-51-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">free</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">pointer</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>La fonction <code>free</code> libère un bloc de mémoire alloué dynamiquement dans le tas (le heap, en anglais), via un appel à la fonction malloc (ou tout autre fonction d'allocation mémoire)</li>
<li>ne jamais désallouer avec la fonction <code>free</code> un bloc de mémoire obtenu autrement que par une fonction d'allocation comme <code>malloc</code>, <code>calloc</code></li>
</ul>
<h3 id="squelette-dallocation">Squelette d'allocation ♥<a class="headerlink" href="#squelette-dallocation" title="Permanent link">&para;</a></h3>
<ul>
<li>Puisqu'un nom de tableau désigne un pointeur constant :<ul>
<li>On ne peut pas créer de tableaux dont la taille est une variable du programme (sauf à utiliser des VLA),</li>
<li>On ne peut pas créer de tableaux bidimensionnels dont les lignes n'ont pas toutes le même nombre d'éléments.</li>
</ul>
</li>
<li>Plutôt que de déclarer les tableaux comme des pointeurs constants, on peut manipuler des pointeurs alloués dynamiquement</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-52-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-52-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-52-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-52-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-52-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-52-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-52-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-52-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-52-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-52-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span><span class="c1">// exemple Anne Canteaut</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="c1">// la valeur sera par exemple saisie avec un scanf</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">tab</span><span class="p">;</span>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6"></a><span class="w">    </span><span class="n">tab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7"></a><span class="w">    </span><span class="c1">// cases de tab non initialis ées</span>
</span><span id="__span-52-8"><a id="__codelineno-52-8" name="__codelineno-52-8"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-52-9"><a id="__codelineno-52-9" name="__codelineno-52-9"></a><span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-52-10"><a id="__codelineno-52-10" name="__codelineno-52-10"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>Avec <code>calloc</code>, le principe est le même mais en plus les cases du tableau sont initialisées à <span class="arithmatex">\(0\)</span> :</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-53-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-53-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-53-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-53-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-53-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-53-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-53-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-53-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-53-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-53-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span><span class="c1"> // exemple Anne Canteaut</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="c1">// la valeur sera par exemple saisie avec un scanf</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">tab</span><span class="p">;</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6"></a><span class="w">    </span><span class="n">tab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">calloc</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span><span class="w"> </span><span class="c1">// syntaxe différente</span>
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7"></a><span class="w">    </span><span class="c1">// cases de tab initialisées à 0</span>
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9"></a><span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">tab</span><span class="p">);</span>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>Dans tous les cas, les éléments de <code>tab</code> sont manipulés avec l'opérateur d'indexation <code>[]</code> , exactement comme pour les tableaux.</p>
<div class="admonition tip">
<p class="admonition-title">Commentaire</p>
<ul>
<li>Dans le transparent précédent, <code>tab</code> n'est pas un tableau statique, c'est un pointeur.</li>
<li>Mais on l'utilise comme un tableau : en particulier <code>tab[2]</code> désigne l'élément situé à l'adresse <code>&amp;tab[0]+2*4</code></li>
<li>de plus, <code>tab</code> n'est pas un pointeur constant : c'est une <em>lvalue</em>. On peut écrire par exemple <code>tab++</code> ou <code>tab = &amp;n</code></li>
</ul>
</div>
<h3 id="tableau-vs-pointeur">Tableau VS pointeur ♥<a class="headerlink" href="#tableau-vs-pointeur" title="Permanent link">&para;</a></h3>
<p>Les deux différences principales entre un tableau et un pointeur sont</p>
<ul>
<li>un pointeur devrait toujours être initialisé, soit par une allocation dynamique, soit par affectation d'une expression adresse, par exemple <code>p = &amp;i</code>;</li>
<li>un tableau n'est pas une <code>lvalue</code> ; il ne peut donc pas figurer à gauche d'un opérateur d'affectation. En particulier, un tableau ne supporte pas l'arithmétique (on ne peut pas écrire <code>tab++;</code>).</li>
</ul>
<h3 id="tableaux-a-plusieurs-dimensions">Tableaux à plusieurs dimensions ♥<a class="headerlink" href="#tableaux-a-plusieurs-dimensions" title="Permanent link">&para;</a></h3>
<ul>
<li>Un tableau à deux dimensions est, par définition, un tableau de tableaux. Après la déclaration, le nom du tableau est utilisé comme un pointeur constant vers un pointeur constant.</li>
<li>Déclaration, initialisation et usage d'un tableau bi-dimensionnel :</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-54-1">1</a></span>
<span class="normal"><a href="#__codelineno-54-2">2</a></span>
<span class="normal"><a href="#__codelineno-54-3">3</a></span>
<span class="normal"><a href="#__codelineno-54-4">4</a></span>
<span class="normal"><a href="#__codelineno-54-5">5</a></span>
<span class="normal"><a href="#__codelineno-54-6">6</a></span>
<span class="normal"><a href="#__codelineno-54-7">7</a></span>
<span class="normal"><a href="#__codelineno-54-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">mat</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="p">{{</span><span class="mi">1</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">300</span><span class="p">},{</span><span class="mi">4</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">600</span><span class="p">}};</span>
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%3d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">mat</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);}</span>
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5"></a><span class="w">            </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span id="__span-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-54-8"><a id="__codelineno-54-8" name="__codelineno-54-8"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>
<p>Attention : les éléments de <em>mat</em> (<span class="arithmatex">\(6\)</span> ici) sont rangés consécutivement en mémoire. Il n'y a pas de « grille » dans la mémoire.</p>
</li>
<li>
<p>Avec l'exemple précédent, on obtient</p>
</li>
</ul>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="m">10</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">300</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="m">400</span><span class="w"> </span><span class="m">500</span><span class="w"> </span><span class="m">6</span>
</span></code></pre></div>
<ul>
<li>Avec</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-56-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">mat</span><span class="p">[</span><span class="n">N</span><span class="p">][</span><span class="n">M</span><span class="p">];</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>
<ul>
<li><code>mat</code> est utilisé comme un pointeur (constant) qui pointe vers un pointeur (constant) de type pointeur d'entiers. Le tableau <code>mat</code> est une adresse invariante égale à celle du premier élément : <code>&amp;mat[0][0]</code>.</li>
<li>De même <code>mat[i]</code> , pour <code>i</code> entre <span class="arithmatex">\(0\)</span> et <code>N-1</code>, est un pointeur constant vers un objet de type entier, qui est le premier élément de la « ligne » d'indice <code>i</code>. <code>mat[i]</code> a donc une valeur constante qui est égale à <code>&amp;mat[i][0]</code>.</li>
<li><code>mat, mat[0]</code> et <code>&amp;mat[0][0]</code> désignent la même adresse.</li>
</ul>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Exercice</p>
<p>(Hors programme) Utiliser la propriété de contigu ̈ıté en mémoire pour écrire une fonction void display(int n, int m, int t[n][m]) qui affiche sur une ligne tous les coefficients du tableau bi-dimensionnel t. Une seule boucle est autorisée.</p>
<p>Dans main, écrivons :</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-57-1">1</a></span>
<span class="normal"><a href="#__codelineno-57-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">}};</span>
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2"></a><span class="n">display</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">t</span><span class="p">);</span>
</span></code></pre></div></td></tr></table></div>
<p>Après compilation/exécution :</p>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="m">1</span>,2,3,4,5,6,
</span></code></pre></div>
</div>
<h3 id="allocation-dynamique-de-matrice">Allocation dynamique de « matrice » ♥<a class="headerlink" href="#allocation-dynamique-de-matrice" title="Permanent link">&para;</a></h3>
<ul>
<li>On déclare un pointeur qui pointe sur un objet de type <code>type *</code> (deux dimensions) de la même manière qu'un pointeur avec</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-59-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1"></a><span class="n">type</span><span class="w"> </span><span class="o">**</span><span class="n">nom</span><span class="err">−</span><span class="n">du</span><span class="err">−</span><span class="n">pointeur</span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<p>Le squelette du programme devient :</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-60-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-60-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-60-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-60-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-60-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-60-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-60-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-60-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-60-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-60-10">10</a></span>
<span class="normal"><a href="#__codelineno-60-11">11</a></span>
<span class="normal"><a href="#__codelineno-60-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2"></a><span class="kt">int</span><span class="w"> </span><span class="o">**</span><span class="n">tab</span><span class="p">;</span>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3"></a><span class="p">...</span>
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4"></a><span class="c1">//tab. de k pointeurs d&#39;entiers</span>
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5"></a><span class="n">tab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="o">**</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="p">));</span>
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-60-7"><a id="__codelineno-60-7" name="__codelineno-60-7"></a><span class="w">    </span><span class="c1">// tab. de n entiers</span>
</span><span id="__span-60-8"><a id="__codelineno-60-8" name="__codelineno-60-8"></a><span class="w">    </span><span class="n">tab</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-60-9"><a id="__codelineno-60-9" name="__codelineno-60-9"></a><span class="w">    </span><span class="p">....</span>
</span><span id="__span-60-10"><a id="__codelineno-60-10" name="__codelineno-60-10"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-60-11"><a id="__codelineno-60-11" name="__codelineno-60-11"></a><span class="w">    </span><span class="n">free</span><span class="w"> </span><span class="p">(</span><span class="n">tab</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span><span class="w"> </span><span class="c1">// libération espaces des lignes</span>
</span><span id="__span-60-12"><a id="__codelineno-60-12" name="__codelineno-60-12"></a><span class="n">free</span><span class="w"> </span><span class="p">(</span><span class="n">tab</span><span class="p">);</span><span class="w"> </span><span class="c1">// libération espace</span>
</span></code></pre></div></td></tr></table></div>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-61-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-61-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-61-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-61-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-61-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-61-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-61-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-61-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-61-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-61-10">10</a></span>
<span class="normal"><a href="#__codelineno-61-11">11</a></span>
<span class="normal"><a href="#__codelineno-61-12">12</a></span>
<span class="normal"><a href="#__codelineno-61-13">13</a></span>
<span class="normal"><a href="#__codelineno-61-14">14</a></span>
<span class="normal"><a href="#__codelineno-61-15">15</a></span>
<span class="normal"><a href="#__codelineno-61-16">16</a></span>
<span class="normal"><a href="#__codelineno-61-17">17</a></span>
<span class="normal"><a href="#__codelineno-61-18">18</a></span>
<span class="normal"><a href="#__codelineno-61-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3"></a>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">**</span><span class="n">tab</span><span class="p">;</span>
</span><span id="__span-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7"></a><span class="w">    </span><span class="n">tab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="o">**</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="p">))</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-61-8"><a id="__codelineno-61-8" name="__codelineno-61-8"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
</span><span id="__span-61-9"><a id="__codelineno-61-9" name="__codelineno-61-9"></a><span class="w">        </span><span class="n">tab</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">m</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// tab. d&#39;entiers</span>
</span><span id="__span-61-10"><a id="__codelineno-61-10" name="__codelineno-61-10"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">m</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="c1">// on peut s&#39;en passer avec calloc</span>
</span><span id="__span-61-11"><a id="__codelineno-61-11" name="__codelineno-61-11"></a><span class="w">            </span><span class="n">tab</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-61-12"><a id="__codelineno-61-12" name="__codelineno-61-12"></a><span class="p">}</span>
</span><span id="__span-61-13"><a id="__codelineno-61-13" name="__codelineno-61-13"></a><span class="p">...</span>
</span><span id="__span-61-14"><a id="__codelineno-61-14" name="__codelineno-61-14"></a>
</span><span id="__span-61-15"><a id="__codelineno-61-15" name="__codelineno-61-15"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-61-16"><a id="__codelineno-61-16" name="__codelineno-61-16"></a><span class="w">    </span><span class="n">free</span><span class="w"> </span><span class="p">(</span><span class="n">tab</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span><span class="w"> </span><span class="c1">// libération espaces des lignes</span>
</span><span id="__span-61-17"><a id="__codelineno-61-17" name="__codelineno-61-17"></a><span class="n">free</span><span class="w"> </span><span class="p">(</span><span class="n">tab</span><span class="p">);</span><span class="w"> </span><span class="c1">// libération espace</span>
</span><span id="__span-61-18"><a id="__codelineno-61-18" name="__codelineno-61-18"></a><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-61-19"><a id="__codelineno-61-19" name="__codelineno-61-19"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="tableaux-statiques-2d-vs-pointeur-de-pointeur">Tableaux statiques 2D VS pointeur de pointeur<a class="headerlink" href="#tableaux-statiques-2d-vs-pointeur-de-pointeur" title="Permanent link">&para;</a></h3>
<ul>
<li>Considérons le pointeur de pointeur utilisé comme un tableau à deux dimensions dans le transparent précédent : <code>int ** tab = malloc(2 * sizeof(int *))</code>. Chaque « ligne » est déclarée par <code>tab[i] = (int*)malloc(3 * sizeof(int));</code> .</li>
<li>Considérons un tableau statique à deux dimensions : <code>int t[2][3]</code> .</li>
<li>Dans <code>tab</code>, les éléments sont rangés par « lignes » , deux « lignes » n'étant pas nécessairement consécutives en mémoire.</li>
<li>Dans <code>t</code>, les éléments sont tous contigus en mémoire. Le dernier octet du dernier élément de la « ligne <span class="arithmatex">\(i\)</span> » est voisin du premier octet du premier élément de la « ligne <span class="arithmatex">\(i\)</span> + 1 » .</li>
</ul>
<h4 id="passage-en-parametre">Passage en paramètre<a class="headerlink" href="#passage-en-parametre" title="Permanent link">&para;</a></h4>
<p>Les deux déclarations suivantes ne sont pas équivalentes :</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-62-1">1</a></span>
<span class="normal"><a href="#__codelineno-62-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">**</span><span class="n">tab</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">moo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">m</span><span class="p">]);</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Pour accéder à <code>t[i][j]</code>, <code>moo</code> calcule <code>*(t + i * m + j)</code>. Rappel : le nom d'un tableau est un alias vers la localisation en mémoire de ce tableau : c.a.d. <code>&amp;t[0][0]</code>.</li>
<li>Pour accéder à <code>tab[i][j]</code>, <code>foo</code> calcule <code>*(*(tab + i) + j)</code> (observer le double déréférencement).</li>
<li>Les appels <code>foo(2,3,t)</code> et <code>moo(2,3,tab)</code> risquent tous deux de mener à une erreur de segmentation (seg fault).<ul>
<li>Dans <code>foo(2,3,t)</code>, la fonction traite <code>t+i</code> comme une adresse à déréférencer ; ce qu'elle n'est pas.</li>
<li>Dans <code>moo(2,3,tab)</code>, la fonction considère que les éléments <code>tab[i][m-1]</code> et <code>tab[i+1][0]</code> sont contigus; ce qu'ils ne sont pas.</li>
</ul>
</li>
</ul>
<h3 id="allocation-dynamique-de-matrice-suite">Allocation dynamique de matrice (suite)<a class="headerlink" href="#allocation-dynamique-de-matrice-suite" title="Permanent link">&para;</a></h3>
<p>Pour créer un tableau à 3 dimensions, utiliser un pointeur vers un objet de type <code>type **</code> :</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-63-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1"></a><span class="n">type</span><span class="w"> </span><span class="o">***</span><span class="n">nom</span><span class="err">−</span><span class="n">du</span><span class="err">−</span><span class="n">pointeur</span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<h2 id="chaine-de-caracteres">Chaîne de caractères<a class="headerlink" href="#chaine-de-caracteres" title="Permanent link">&para;</a></h2>
<ul>
<li>Une chaîne de caractères est un tableau à une dimension d'objets de type char, se terminant par le caractère nul <code>'\0'</code>.</li>
<li>On peut donc manipuler toute chaîne de caractères à l'aide d'un pointeur sur un objet de type <code>char</code>.</li>
<li>Les <em>constantes chaînes</em> sont notées entre doubles quotes comme <code>"hello"</code> mais le caractère de fin de chaîne n'apparaît pas explicitement.</li>
<li>Les constantes chaînes sont toujours placées en mémoire statique. Elles sont immuables.</li>
<li>Le caractère immuable permet au compilateur d'allouer une seule occurrence de chaque chaîne distincte. En clair, dans</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-64-1">1</a></span>
<span class="normal"><a href="#__codelineno-64-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1"></a><span class="n">printf</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span>
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2"></a><span class="n">printf</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span>
</span></code></pre></div></td></tr></table></div>
<p>les deux occurrences de <strong>hello</strong> sont stockées au même endroit en mémoire.</p>
<h3 id="les-chaines-de-caracteres-comme-tableaux-de-char">Les chaînes de caractères comme tableaux de <code>char</code> ♥<a class="headerlink" href="#les-chaines-de-caracteres-comme-tableaux-de-char" title="Permanent link">&para;</a></h3>
<p>Déclaration comme pointeur (constant):</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-65-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1"></a><span class="kt">char</span><span class="w"> </span><span class="n">chaine</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Le mot <code>hello</code> est déclaré et initialisé avec</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-66-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1"></a><span class="kt">char</span><span class="w"> </span><span class="n">chaine</span><span class="w"> </span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;h&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;l&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;\0&#39;</span><span class="p">};</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Le caractère <code>'\0'</code> représente la fin du mot. Sa présence est <span class="arithmatex">\(\underline{\text{impérative}}\)</span>. Ainsi « hello » nécessite <span class="arithmatex">\(6\)</span> caractères. Les guillemets sont simples.</li>
<li><code>"h"</code> représente la chaîne de caractères <code>{'h',\0}</code> et <code>'h'</code> ben... le caractère « <code>h</code> » !</li>
<li>Initialisation plus rapide :</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-67-1">1</a></span>
<span class="normal"><a href="#__codelineno-67-2">2</a></span>
<span class="normal"><a href="#__codelineno-67-3">3</a></span>
<span class="normal"><a href="#__codelineno-67-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1"></a><span class="kt">char</span><span class="w"> </span><span class="n">chaine</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Salut&quot;</span><span class="p">;</span><span class="c1">// taille automatiqu. calcul ée</span>
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2"></a><span class="c1">// caractère de fin de chaîne automatiquement ajouté.</span>
</span><span id="__span-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3"></a><span class="c1">// Observer les doubles quote.</span>
</span><span id="__span-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4"></a><span class="c1">// chaine est de lg 6 ! !</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="acces-aux-elements">Accès aux éléments ♥<a class="headerlink" href="#acces-aux-elements" title="Permanent link">&para;</a></h3>
<p>Comme en <span class="arithmatex">\(\texttt{Python}\)</span>, l'accès aux constituants de la chaîne se fait avec l'opérateur <code>[]</code>.
- Lecture :</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-68-1">1</a></span>
<span class="normal"><a href="#__codelineno-68-2">2</a></span>
<span class="normal"><a href="#__codelineno-68-3">3</a></span>
<span class="normal"><a href="#__codelineno-68-4">4</a></span>
<span class="normal"><a href="#__codelineno-68-5">5</a></span>
<span class="normal"><a href="#__codelineno-68-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1"></a><span class="kt">char</span><span class="w"> </span><span class="n">chaine</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">;</span>
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2"></a><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-68-3"><a id="__codelineno-68-3" name="__codelineno-68-3"></a><span class="k">while</span><span class="p">(</span><span class="n">chaine</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="sc">&#39;\0&#39;</span><span class="p">){</span><span class="w"> </span><span class="c1">// lecture</span>
</span><span id="__span-68-4"><a id="__codelineno-68-4" name="__codelineno-68-4"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%c&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">chaine</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
</span><span id="__span-68-5"><a id="__codelineno-68-5" name="__codelineno-68-5"></a><span class="w">    </span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-68-6"><a id="__codelineno-68-6" name="__codelineno-68-6"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>Affiche « hello » .</p>
<ul>
<li>Modification :</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-69-1">1</a></span>
<span class="normal"><a href="#__codelineno-69-2">2</a></span>
<span class="normal"><a href="#__codelineno-69-3">3</a></span>
<span class="normal"><a href="#__codelineno-69-4">4</a></span>
<span class="normal"><a href="#__codelineno-69-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1"></a><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2"></a><span class="k">while</span><span class="p">(</span><span class="n">chaine</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="sc">&#39;\0&#39;</span><span class="p">){</span><span class="c1">// codage de César</span>
</span><span id="__span-69-3"><a id="__codelineno-69-3" name="__codelineno-69-3"></a><span class="w">    </span><span class="n">chaine</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chaine</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-69-4"><a id="__codelineno-69-4" name="__codelineno-69-4"></a><span class="w">    </span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-69-5"><a id="__codelineno-69-5" name="__codelineno-69-5"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>La chaîne est devenue <code>ifmmp</code></p>
<h3 id="affichage-et-saisie-au-clavier">Affichage et saisie au clavier ♥<a class="headerlink" href="#affichage-et-saisie-au-clavier" title="Permanent link">&para;</a></h3>
<p>Le spécifieur de format <code>%s</code> vaut pour <code>printf</code> et <code>scanf</code> :</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-70-1">1</a></span>
<span class="normal"><a href="#__codelineno-70-2">2</a></span>
<span class="normal"><a href="#__codelineno-70-3">3</a></span>
<span class="normal"><a href="#__codelineno-70-4">4</a></span>
<span class="normal"><a href="#__codelineno-70-5">5</a></span>
<span class="normal"><a href="#__codelineno-70-6">6</a></span>
<span class="normal"><a href="#__codelineno-70-7">7</a></span>
<span class="normal"><a href="#__codelineno-70-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">chaine</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">;</span>
</span><span id="__span-70-3"><a id="__codelineno-70-3" name="__codelineno-70-3"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">chaine</span><span class="p">);</span>
</span><span id="__span-70-4"><a id="__codelineno-70-4" name="__codelineno-70-4"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot; entrer un mot de 5 lettres sans espace : &quot;</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-70-5"><a id="__codelineno-70-5" name="__codelineno-70-5"></a><span class="w">    </span><span class="n">scanf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">chaine</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="c1">// chaine est un pointeur</span>
</span><span id="__span-70-6"><a id="__codelineno-70-6" name="__codelineno-70-6"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">chaine</span><span class="p">);</span>
</span><span id="__span-70-7"><a id="__codelineno-70-7" name="__codelineno-70-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-70-8"><a id="__codelineno-70-8" name="__codelineno-70-8"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>On obtient :</p>
<div class="language-bash highlight"><span class="filename">Rendu</span><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a>hello
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a>entrer<span class="w"> </span>un<span class="w"> </span>mot<span class="w"> </span>de<span class="w"> </span><span class="m">5</span><span class="w"> </span>lettres<span class="w"> </span>sans<span class="w"> </span>espace<span class="w"> </span>:<span class="w"> </span>salut
</span><span id="__span-71-3"><a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a>salut
</span></code></pre></div>
<h3 id="longueur">Longueur<a class="headerlink" href="#longueur" title="Permanent link">&para;</a></h3>
<p>On dispose d'un moyen pour calculer la longueur d'une chaîne de caractères : on itère jusqu'à tomber sur le caractère nul <code>'\0'</code>.</p>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-72-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-72-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-72-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-72-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-72-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-72-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-72-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-72-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-72-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-72-10">10</a></span>
<span class="normal"><a href="#__codelineno-72-11">11</a></span>
<span class="normal"><a href="#__codelineno-72-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2"></a>
</span><span id="__span-72-3"><a id="__codelineno-72-3" name="__codelineno-72-3"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-72-4"><a id="__codelineno-72-4" name="__codelineno-72-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-72-5"><a id="__codelineno-72-5" name="__codelineno-72-5"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">chaine</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-72-6"><a id="__codelineno-72-6" name="__codelineno-72-6"></a>
</span><span id="__span-72-7"><a id="__codelineno-72-7" name="__codelineno-72-7"></a><span class="w">    </span><span class="n">chaine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;toto et gogo&quot;</span><span class="p">;</span>
</span><span id="__span-72-8"><a id="__codelineno-72-8" name="__codelineno-72-8"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">chaine</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="sc">&#39;\0&#39;</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">++</span><span class="p">);</span><span class="w">    </span><span class="c1">// observer le &quot;;&quot;</span>
</span><span id="__span-72-9"><a id="__codelineno-72-9" name="__codelineno-72-9"></a>
</span><span id="__span-72-10"><a id="__codelineno-72-10" name="__codelineno-72-10"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;nombre de caracteres = %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">i</span><span class="p">);</span>
</span><span id="__span-72-11"><a id="__codelineno-72-11" name="__codelineno-72-11"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-72-12"><a id="__codelineno-72-12" name="__codelineno-72-12"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Avec cette méthode, la complexité est <span class="arithmatex">\(\underline{\text{linéaire}}\)</span> : il y a <span class="arithmatex">\(n\)</span> étapes pour calculer la longueur (si <span class="arithmatex">\(n = |\textbf{chaine}|\)</span>).</li>
<li>Un autre moyen de calculer la longueur d'une chaîne de caractères est d'utiliser la fonction <code>strlen</code> de <code>&lt;string.h&gt;</code>.</li>
<li>Son protototype est le suivant</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-73-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1"></a><span class="n">size</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="n">strlen</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">theString</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Elle prend donc en paramètre un pointeur sur un <code>char</code> constant (on ne modifie pas la chaîne).</li>
<li>On l'utilise ainsi</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-74-1">1</a></span>
<span class="normal"><a href="#__codelineno-74-2">2</a></span>
<span class="normal"><a href="#__codelineno-74-3">3</a></span>
<span class="normal"><a href="#__codelineno-74-4">4</a></span>
<span class="normal"><a href="#__codelineno-74-5">5</a></span>
<span class="normal"><a href="#__codelineno-74-6">6</a></span>
<span class="normal"><a href="#__codelineno-74-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string.h&gt;</span>
</span><span id="__span-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3"></a>
</span><span id="__span-74-4"><a id="__codelineno-74-4" name="__codelineno-74-4"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
</span><span id="__span-74-5"><a id="__codelineno-74-5" name="__codelineno-74-5"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-74-6"><a id="__codelineno-74-6" name="__codelineno-74-6"></a><span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;nombre de caracteres = %zu</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">chaine</span><span class="p">))</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-74-7"><a id="__codelineno-74-7" name="__codelineno-74-7"></a><span class="w">    </span><span class="p">...}</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Mais la complexité reste linéaire !</li>
</ul>
<h3 id="comparer">Comparer<a class="headerlink" href="#comparer" title="Permanent link">&para;</a></h3>
<ul>
<li><code>int strcmp(const char *first, const char *second);</code> de <code>string.h</code></li>
<li>Compare les deux chaînes <code>first</code>, <code>second</code></li>
<li>Si la valeur de retour est nulle, les chaînes sont égales</li>
<li>Si la valeur renvoyée est négative, le premier caractère qui ne correspond pas a une valeur inférieure dans <code>first</code> que dans <code>second</code></li>
<li>Si la valeur renvoyée est positive, le premier caractère qui ne correspond pas a une valeur supérieure dans <code>first</code> que dans <code>second</code>.</li>
<li>La variante <code>strncmp(first,second,n)</code> ne compare que les <span class="arithmatex">\(n\)</span> premiers caractères des chaînes.</li>
<li><code>first==second</code> ne doit être utilisé que pour des chaînes de caractères littérales (dans le doute, on évite !)</li>
</ul>
<h3 id="convertir-en-entier">Convertir en entier<a class="headerlink" href="#convertir-en-entier" title="Permanent link">&para;</a></h3>
<ul>
<li><code>int atoi(const char *theString);</code> de <strong>strlib</strong></li>
<li>Cette fonction permet de transformer une chaîne de caractères, représentant une valeur entière comme <code>"12356"</code> , en une valeur numérique de type int . Le terme d'« atoi » est un acronyme signifiant : ASCII to integer.</li>
<li>Retourne la valeur <span class="arithmatex">\(0\)</span> si la chaîne de caractères ne contient pas une représentation de valeur numérique. Il n'est donc pas possible de distinguer la chaîne <code>"0"</code> d'une chaîne ne contenant pas un nombre entier. L'utilisation de la fonction <code>strtol</code> permet bien de distinguer les deux cas.</li>
</ul>
<h3 id="modifier-une-constante-chaine">Modifier une constante chaîne<a class="headerlink" href="#modifier-une-constante-chaine" title="Permanent link">&para;</a></h3>
<ul>
<li>La norme n'indique pas si les constantes chaînes comme <code>"hello"</code> sont modifiables ou non. Juste qu'elles sont placées en mémoire statique.</li>
<li>Pour imposer un caractère immuable indépendamment des implémentations, préférer :</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-75-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1"></a><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="concatenation">Concaténation ♥<a class="headerlink" href="#concatenation" title="Permanent link">&para;</a></h3>
<ul>
<li>Pour concaténer deux chaînes de caractères, allouer à une troisième chaîne autant de place que la somme des longueurs.</li>
<li>Parcourir l'une après l'autre les deux chaînes et entrer leurs caractères dans le résultat.</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-76-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-76-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-76-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-76-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-76-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-76-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-76-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-76-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-76-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-76-10">10</a></span>
<span class="normal"><a href="#__codelineno-76-11">11</a></span>
<span class="normal"><a href="#__codelineno-76-12">12</a></span>
<span class="normal"><a href="#__codelineno-76-13">13</a></span>
<span class="normal"><a href="#__codelineno-76-14">14</a></span>
<span class="normal"><a href="#__codelineno-76-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span><span class="c1">// exemple Anne Canteaut</span>
</span><span id="__span-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">chaine1</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">chaine2</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">res</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// 3 pointeurs</span>
</span><span id="__span-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3"></a>
</span><span id="__span-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4"></a><span class="w">    </span><span class="n">chaine1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;chaine &quot;</span><span class="p">;</span>
</span><span id="__span-76-5"><a id="__codelineno-76-5" name="__codelineno-76-5"></a><span class="w">    </span><span class="n">chaine2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;de caracteres &quot;</span><span class="p">;</span>
</span><span id="__span-76-6"><a id="__codelineno-76-6" name="__codelineno-76-6"></a><span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">lgc1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">chaine1</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">lgc2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">chaine2</span><span class="p">);</span>
</span><span id="__span-76-7"><a id="__codelineno-76-7" name="__codelineno-76-7"></a><span class="w">    </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">((</span><span class="n">lgc1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">lgc2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>
</span><span id="__span-76-8"><a id="__codelineno-76-8" name="__codelineno-76-8"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">lgc1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-76-9"><a id="__codelineno-76-9" name="__codelineno-76-9"></a><span class="w">        </span><span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chaine1</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span><span id="__span-76-10"><a id="__codelineno-76-10" name="__codelineno-76-10"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lgc1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">lgc1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">lgc2</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span id="__span-76-11"><a id="__codelineno-76-11" name="__codelineno-76-11"></a><span class="w">        </span><span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chaine2</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="err">−</span><span class="n">lgc1</span><span class="p">];</span>
</span><span id="__span-76-12"><a id="__codelineno-76-12" name="__codelineno-76-12"></a><span class="w">    </span><span class="n">res</span><span class="p">[</span><span class="n">lgc1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">lgc2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\0</span><span class="s">&quot;</span><span class="p">;</span>
</span><span id="__span-76-13"><a id="__codelineno-76-13" name="__codelineno-76-13"></a><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">);</span><span class="w"> </span><span class="n">free</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
</span><span id="__span-76-14"><a id="__codelineno-76-14" name="__codelineno-76-14"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-76-15"><a id="__codelineno-76-15" name="__codelineno-76-15"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="tableau-de-constantes-chaines">Tableau de constantes chaînes<a class="headerlink" href="#tableau-de-constantes-chaines" title="Permanent link">&para;</a></h3>
<ul>
<li>Une constante chaîne est convertie par le compilateur en un pointeur sur son premier caractère. On peut donc facilement constituer un tableau de constantes chaînes.</li>
<li>On peut bien sûr toujours initialiser individuellement :</li>
</ul>
<div class="language-C highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-77-1">1</a></span>
<span class="normal"><a href="#__codelineno-77-2">2</a></span>
<span class="normal"><a href="#__codelineno-77-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1"></a><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">jour</span><span class="w"> </span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="w"> </span><span class="p">;</span>
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2"></a><span class="n">jour</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;lundi&quot;</span><span class="p">;</span>
</span><span id="__span-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3"></a><span class="n">jour</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;mardi&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">...</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>Mais on peut aussi profiter de la syntaxe d'initialisation des tableaux en écrivant directement :</li>
</ul>
<p><code>C lineums="1"
char *jour [7] = {"lundi","mardi" ,...}</code></p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Retour en haut de la page
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 <a href="https://github.com/printLuzz" target="_blank" rel="noopener"> Mehdi Tahri</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/printLuzz" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.section", "navigation.instant", "toc.follow", "navigation.top", "search.suggest", "search.hihlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "header.autohide"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>